# 简易在线商城前端功能文档

## 项目概述

前端采用 Vue3 + Vite 框架开发，使用 Element Plus 作为UI组件库，Pinia 作为状态管理工具，实现了完整的用户界面和交互功能。

## 技术栈

- **框架**: Vue3
- **构建工具**: Vite
- **UI组件库**: Element Plus
- **状态管理**: Pinia
- **样式**: Sass
- **路由**: Vue Router
- **HTTP客户端**: Axios

## 目录结构

```
frontend/
├── src/
│   ├── assets/        # 静态资源
│   ├── components/    # Vue组件
│   ├── composables/   # 组合式API函数
│   ├── router/        # 路由配置
│   ├── services/      # API服务
│   ├── stores/        # 状态管理 (Pinia)
│   ├── styles/        # 样式文件
│   ├── utils/         # 工具函数
│   ├── App.vue        # 根组件
│   └── main.js        # 入口文件
├── public/            # 静态资源目录
├── package.json
└── vite.config.js     # Vite配置文件
```

## 页面功能

### 1. 首页 (Home.vue)

#### 功能描述
- 根据用户角色显示不同内容：
  - 买家：商品轮播图、搜索功能、热门商品展示
  - 商家：快捷操作面板
  - 管理员：系统统计概览

#### 主要功能
- 商品轮播图展示（使用Swiper组件）
- 商品搜索功能
- 热门商品展示
- 商家快捷操作（添加商品、管理商品等）
- 管理员系统统计概览

#### 组件交互
- 使用 `useHome` 组合式函数管理业务逻辑
- 集成商品搜索、购物车添加等功能

### 2. 用户认证页面

#### 2.1 登录页面 (Login.vue)
- 用户名/密码登录
- 表单验证
- 错误信息提示
- 跳转到注册页面链接

#### 2.2 注册页面 (Register.vue)
- 用户名、邮箱、密码注册
- 表单验证
- 角色选择（买家、商家、管理员）
- 错误信息提示
- 跳转到登录页面链接

### 3. 商品页面

#### 3.1 商品列表页面 (Products.vue)
- 分页展示商品列表
- 商品卡片显示（图片、名称、价格、描述）
- 商品搜索过滤
- 添加到购物车功能
- 库存状态显示

#### 3.2 商品详情页面 (ProductDetail.vue)
- 商品详细信息展示
- 商品图片、名称、价格、描述、库存
- 数量选择
- 立即购买/加入购物车按钮
- 库存不足提示

### 4. 购物车页面 (Cart.vue)
- 购物车商品列表
- 商品数量调整
- 单个商品删除
- 购物车总价计算
- 清空购物车
- 创建订单按钮

### 5. 订单页面

#### 5.1 订单列表页面 (Orders.vue)
- 用户订单列表
- 订单状态显示
- 订单金额显示
- 订单创建时间
- 查看订单详情

#### 5.2 订单详情页面 (OrderDetail.vue)
- 订单详细信息
- 订单状态跟踪
- 订单商品列表
- 订单总金额
- 订单创建时间

### 6. 商家中心

#### 6.1 商家首页 (SellerHome.vue)
- 商家仪表板概览
- 快捷操作按钮
- 销售数据展示

#### 6.2 商家商品管理 (SellerProducts.vue)
- 商家商品列表
- 商品状态管理
- 商品编辑/删除
- 添加新商品

#### 6.3 创建商品页面 (CreateProduct.vue)
- 商品信息表单
- 商品名称、描述、价格、库存、图片
- 表单验证
- 提交商品

#### 6.4 编辑商品页面 (EditProduct.vue)
- 编辑现有商品信息
- 与创建商品页面共享表单组件

#### 6.5 商家仪表板 (SellerDashboard.vue)
- 销售统计数据
- 订单统计
- 收入分析

### 7. 管理员控制台

#### 7.1 管理员首页 (AdminHome.vue)
- 系统概览统计
- 关键指标展示
- 快速访问链接

#### 7.2 管理面板 (AdminPanel.vue)
- 用户管理
- 商品管理
- 订单管理
- 系统设置

#### 7.3 管理员仪表板 (AdminDashboard.vue)
- 详细的系统统计
- 图表展示
- 数据分析

## 组件功能

### 1. 布局组件 (Layout.vue)
- 统一页面布局
- 顶部导航栏
- 侧边栏菜单
- 用户信息显示
- 登出功能

### 2. 核心业务组件

#### 2.1 商品卡片组件
- 展示商品基本信息
- 支持添加到购物车
- 库存状态显示

#### 2.2 搜索组件
- 商品搜索功能
- 搜索结果展示

#### 2.3 购物车组件
- 实时购物车状态
- 商品数量管理
- 总价计算

## 状态管理 (Pinia Stores)

### 1. 用户状态 (user store)
- 用户认证状态管理
- 用户信息存储
- 登录/登出功能
- 用户角色管理

### 2. 商品状态 (products store)
- 商品列表管理
- 商品详情管理
- 商品搜索功能
- 分页信息管理

### 3. 购物车状态 (cart store)
- 购物车内容管理
- 添加/删除/更新商品
- 总价计算
- 购物车持久化

### 4. 订单状态 (orders store)
- 订单列表管理
- 订单详情管理
- 订单创建功能
- 分页信息管理

## API 服务 (Services)

### 1. 用户服务 (userService)
- 用户注册/登录
- 用户资料获取
- 用户管理（管理员）

### 2. 商品服务 (productService)
- 商品列表获取
- 商品详情获取
- 商品搜索
- 商品创建/更新/删除
- 商品审核（管理员）

### 3. 购物车服务 (cartService)
- 购物车获取
- 商品添加到购物车
- 购物车项目更新/删除

### 4. 订单服务 (orderService)
- 订单创建
- 订单列表获取
- 订单详情获取
- 订单支付
- 订单状态更新（管理员）

### 5. 管理员服务 (adminService)
- 系统统计信息获取
- 用户管理
- 订单管理
- 商品管理

### 6. 商家服务 (sellerService)
- 商家统计信息获取
- 商家订单管理

## 组合式函数 (Composables)

### 1. useHome
- 首页业务逻辑管理
- 商品搜索功能
- 购物车操作
- 角色特定功能

### 2. useProduct
- 商品相关业务逻辑
- 商品详情获取
- 商品操作

### 3. useCart
- 购物车业务逻辑
- 购物车操作
- 总价计算

### 4. useOrder
- 订单相关业务逻辑
- 订单创建和管理

## 路由配置

### 公开路由
- `/` - 首页
- `/login` - 登录页面
- `/register` - 注册页面
- `/products` - 商品列表
- `/products/:id` - 商品详情

### 需要认证的路由
- `/cart` - 购物车
- `/orders` - 订单列表
- `/orders/:id` - 订单详情
- `/seller/*` - 商家相关页面
- `/admin/*` - 管理员相关页面

### 角色限制路由
- `/seller/*` - 仅商家访问
- `/admin/*` - 仅管理员访问

## UI/UX 特性

### 1. 响应式设计
- 适配不同屏幕尺寸
- 移动端友好的界面

### 2. 交互反馈
- 加载状态显示
- 成功/错误消息提示
- 表单验证反馈

### 3. 用户体验优化
- 页面加载骨架屏
- 平滑的页面过渡
- 直观的操作流程

## 安全特性

1. **认证保护**: 敏感页面需要用户认证
2. **角色权限**: 不同角色访问不同功能
3. **输入验证**: 前端表单验证
4. **安全头**: 防止XSS等攻击
5. **JWT管理**: 安全的token存储和使用

## 性能优化

1. **组件懒加载**: 路由级别组件懒加载
2. **状态管理优化**: Pinia状态管理避免重复请求
3. **API请求优化**: 合理的缓存策略
4. **资源优化**: 图片懒加载等

## 国际化支持
- 当前使用中文界面
- 结构支持多语言扩展

## 可访问性
- 语义化HTML结构
- 适当的ARIA标签
- 键盘导航支持